'use client'

import Icon, {AppstoreOutlined, GithubOutlined, HomeOutlined, SmileOutlined} from '@ant-design/icons'
import type {MenuProps} from 'antd'
import {Col, Layout, Menu, Row, Tooltip} from 'antd'
import Link from 'next/link'
import React from 'react'
import FallbackImage from '@/component/FallbackImage'

const {Header} = Layout

function HeartSvg() {
    return (<svg width="1em" height="1em" fill="currentColor" viewBox="0 0 1024 1024">
        <path
            d="M923 283.6c-13.4-31.1-32.6-58.9-56.9-82.8-24.3-23.8-52.5-42.4-84-55.5-32.5-13.5-66.9-20.3-102.4-20.3-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5-24.4 23.9-43.5 51.7-56.9 82.8-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3 0.1-35.3-7-69.6-20.9-101.9z"/>
    </svg>)
}

function ForumsSvg() {
    return (
        <svg height="1.2em" viewBox="0 0 128 128" width="1.2em" fill="currentColor">
            <path
                d="m111.257 65.762 10.437-18.462-20.843 3.91-5.494-12.394-21.836 27.711 12.7-43.734-13.278 2.74-8.943-19.227-8.945 19.227-13.278-2.74 12.7 43.734-21.834-27.711-5.494 12.394-20.843-3.91 10.437 18.462-9.952 9.207 33.061 11.625-7.74 15.856 31.888-6.928 31.888 6.928-7.74-15.856 33.061-11.625z"
                fill="#f7502f"/>
            <path
                d="m121.69 47.3-2.05 3.62-53.89 38.54v32.23a1.75 1.75 0 0 1 -3.5 0v-32.23l-53.89-38.54-2.05-3.62 4.06.76 51.88 37.1v-75.09l1.75-3.76 1.75 3.76v75.09l51.88-37.1z"
                fill="#d8351e"/>
        </svg>
        // <svg height="1.3em" viewBox="-16 -23 535.99916 535" width="1.3em" fill="pink">
        //     <path
        //         d="m251.253906 434.042969c-.816406 0-1.621094-.117188-2.410156-.351563l-144.78125-42.582031c-2.683594-.78125-4.800781-2.835937-5.683594-5.480469-.878906-2.652344-.398437-5.5625 1.273438-7.792968l18.789062-25.058594-100.207031-38.535156c-2.53125-.976563-4.453125-3.105469-5.164063-5.726563-.707031-2.625-.121093-5.429687 1.574219-7.550781l30.234375-37.785156-43.511718-67.246094c-1.695313-2.621094-1.824219-5.953125-.328126-8.691406 1.488282-2.746094 4.359376-4.449219 7.480469-4.449219h68.875l3.550781-39.101563c.292969-3.210937 2.375-5.976562 5.371094-7.148437 3.003906-1.1875 6.402344-.566407 8.8125 1.59375l64.445313 58.007812-27.304688-109.230469c-.738281-2.953124.148438-6.074218 2.34375-8.183593 2.1875-2.113281 5.332031-2.894531 8.257813-2.070313l53.066406 15.160156 47.839844-87.695312c2.980468-5.472656 11.96875-5.472656 14.949218 0l47.839844 87.695312 53.066406-15.160156c2.933594-.824218 6.074219-.042968 8.257813 2.070313 2.1875 2.113281 3.082031 5.230469 2.34375 8.183593l-27.304687 109.230469 64.445312-58.003906c2.199219-1.976563 5.253906-2.679687 8.105469-1.835937 2.835937.832031 5.035156 3.074218 5.8125 5.929687l11.058593 40.5625h61.628907c3.121093 0 5.988281 1.707031 7.480469 4.449219 1.496093 2.738281 1.363281 6.070312-.332032 8.695312l-43.507812 67.242188 30.234375 37.78125c1.695312 2.125 2.28125 4.929687 1.574219 7.554687-.710938 2.621094-2.632813 4.746094-5.167969 5.726563l-100.203125 38.535156 18.789062 25.058594c1.671875 2.226562 2.148438 5.140625 1.273438 7.792968-.882813 2.644532-3.003906 4.695313-5.683594 5.480469l-144.78125 42.585938c-.785156.226562-1.59375.34375-2.402344.34375zm-130.613281-55.808594 130.613281 38.417969 130.605469-38.417969-18.183594-24.253906c-1.609375-2.128907-2.113281-4.898438-1.375-7.460938.738281-2.570312 2.636719-4.640625 5.128907-5.597656l99.851562-38.402344-26.796875-33.492187c-2.289063-2.863282-2.488281-6.871094-.496094-9.949219l38.335938-59.25h-52.476563c-3.847656 0-7.210937-2.566406-8.21875-6.28125l-9.136718-33.5-74.890626 67.40625c-2.792968 2.507813-6.878906 2.894531-10.09375.972656-3.203124-1.9375-4.773437-5.742187-3.867187-9.367187l30.492187-121.960938-45.4375 12.984375c-3.835937 1.046875-7.910156-.617187-9.820312-4.121093l-43.621094-79.980469-43.628906 79.976562c-1.90625 3.503907-5.984375 5.167969-9.816406 4.117188l-45.4375-12.980469 30.492187 121.960938c.90625 3.625-.667969 7.425781-3.875 9.367187-3.207031 1.917969-7.292969 1.539063-10.085937-.976563l-72.53125-65.269531-2.714844 29.910157c-.398438 4.378906-4.078125 7.742187-8.484375 7.742187h-60.996094l38.335938 59.25c1.992187 3.078125 1.792969 7.085937-.5 9.949219l-26.792969 33.492187 99.851562 38.402344c2.496094.957031 4.390626 3.027344 5.125 5.597656.742188 2.5625.234376 5.332031-1.367187 7.460938zm0 0"/>
        //     <path
        //         d="m255.511719 489.402344c-4.707031 0-8.519531-3.808594-8.519531-8.515625v-306.609375c0-4.707032 3.8125-8.519532 8.519531-8.519532 4.703125 0 8.511719 3.8125 8.511719 8.519532v306.609375c0 4.707031-3.808594 8.515625-8.511719 8.515625zm0 0"/>
        //     <path
        //         d="m257.113281 351.484375c-2.839843 0-5.617187-1.421875-7.234375-4.011719-2.488281-3.992187-1.273437-9.238281 2.71875-11.734375l113.382813-70.746093c3.988281-2.488282 9.246093-1.269532 11.734375 2.71875 2.488281 3.992187 1.273437 9.238281-2.71875 11.734374l-113.378906 70.746094c-1.402344.878906-2.960938 1.292969-4.503907 1.292969zm0 0"/>
        //     <path
        //         d="m257.09375 351.484375c-1.535156 0-3.09375-.414063-4.496094-1.285156l-113.386718-70.75c-3.988282-2.492188-5.203126-7.742188-2.71875-11.738281 2.496093-3.980469 7.753906-5.207032 11.738281-2.71875l113.386719 70.75c3.992187 2.496093 5.207031 7.746093 2.71875 11.734374-1.621094 2.585938-4.398438 4.007813-7.242188 4.007813zm0 0"/>
        // </svg>
        // <svg width="1em" height="1em" viewBox="0 0 1024 1024" fill="red">
        //     <path
        //         d="M512 10.24l-52.224 157.696L312.32 85.504l-2.048 160L132.096 168.96l58.88 139.264-128 50.176 93.184 93.184-50.176 128L132.096 640l140.16-58.88L310.272 768l-2.048 160 147.456-82.432L512 1013.76l52.224-157.696L711.68 938.496l2.048-160 147.456 82.432-58.88-139.264 128-50.176-93.184-93.184 50.176-128-58.88-139.264 128-50.176-93.184-93.184 50.176-128-128 50.176-58.88-139.264-140.16 58.88 2.048-160L564.224 168.96 711.68 245.248l2.048 160L891.904 235.52l-58.88 139.264 128 50.176-93.184 93.184 50.176 128-50.176 128 93.184 93.184-128-50.176-58.88 139.264L711.68 768l-2.048-160L512 937.216 312.32 768l-2.048 160-147.456-82.432 58.88-139.264-128-50.176 93.184-93.184-50.176-128 50.176-128-93.184-93.184 128 50.176 58.88-139.264L312.32 640l2.048-160L512 10.24z"/>
        // </svg>
    )
}

function PandaSvg() {
    return <svg viewBox="0 0 1024 1024" width="1em" height="1em" fill="currentColor">
        <path
            d="M99.096 315.634s-82.58-64.032-82.58-132.13c0-66.064 33.032-165.162 148.646-148.646 83.37 11.91 99.096 165.162 99.096 165.162l-165.162 115.614zM924.906 315.634s82.58-64.032 82.58-132.13c0-66.064-33.032-165.162-148.646-148.646-83.37 11.91-99.096 165.162-99.096 165.162l165.162 115.614z"
            fill="#6B676E"
        />
        <path
            d="M1024 561.548c0 264.526-229.23 429.42-512.002 429.42S0 826.076 0 561.548 283.96 66.064 512.002 66.064 1024 297.022 1024 561.548z"
            fill="#FFEBD2"
        />
        <path
            d="M330.324 842.126c0 82.096 81.34 148.646 181.678 148.646s181.678-66.55 181.678-148.646H330.324z"
            fill="#E9D7C3"
        />
        <path
            d="M644.13 611.098C594.582 528.516 561.55 512 512.002 512c-49.548 0-82.58 16.516-132.13 99.096-42.488 70.814-78.73 211.264-49.548 247.742 66.064 82.58 165.162 33.032 181.678 33.032 16.516 0 115.614 49.548 181.678-33.032 29.18-36.476-7.064-176.93-49.55-247.74z"
            fill="#FFFFFF"
        />
        <path
            d="M611.098 495.484c0-45.608 36.974-82.58 82.58-82.58 49.548 0 198.194 99.098 198.194 165.162s-79.934 144.904-148.646 99.096c-49.548-33.032-132.128-148.646-132.128-181.678zM412.904 495.484c0-45.608-36.974-82.58-82.58-82.58-49.548 0-198.194 99.098-198.194 165.162s79.934 144.904 148.646 99.096c49.548-33.032 132.128-148.646 132.128-181.678z"
            fill="#6B676E"
        />
        <path
            d="M512.002 726.622c-30.06 0-115.614 5.668-115.614 33.032 0 49.638 105.484 85.24 115.614 82.58 10.128 2.66 115.614-32.944 115.614-82.58-0.002-27.366-85.556-33.032-115.614-33.032z"
            fill="#464655"
        />
        <path
            d="M330.324 495.484m-33.032 0a33.032 33.032 0 1 0 66.064 0 33.032 33.032 0 1 0-66.064 0Z"
            fill="#464655"
        />
        <path
            d="M693.678 495.484m-33.032 0a33.032 33.032 0 1 0 66.064 0 33.032 33.032 0 1 0-66.064 0Z"
            fill="#464655"
        />
    </svg>
}

const itemStyle = {
    margin: 0,
    paddingRight: 5
}
const items: MenuProps['items'] = [
    {
        label: (<Link href="/">首页</Link>),
        key: 'index',
        icon: <HomeOutlined style={{fontSize: '1.05rem'}}/>,
        style: itemStyle
    },
    {
        label: (<Link href="/activities">活动</Link>),
        key: 'activity',
        icon: (<Icon component={PandaSvg} style={{fontSize: '1.1rem'}}/>),
        style: itemStyle
    },
    {
        label: (<Link href="/forums">“一叶枫声”论坛</Link>),
        key: 'forums',
        icon: (<Icon component={ForumsSvg} style={{fontSize: '1.1rem'}}/>),
        style: itemStyle
    },
    {
        label: '攻略',
        key: 'guide',
        disabled: true,
        icon: <AppstoreOutlined style={{fontSize: '1.05rem'}}/>,
        style: itemStyle,
        children: [
            {
                type: 'group',
                label: '城市游玩',
                children: [
                    {
                        label: 'Windsor',
                        key: 'city:windsor',
                    },
                    {
                        label: 'Toronto',
                        key: 'city:toronto',
                    },
                ],
            },
            {
                type: 'group',
                label: '指引攻略',
                children: [
                    {
                        label: '生活指引',
                        key: 'category:life',
                    },
                    {
                        label: '专业解析',
                        key: 'category:major',
                    },
                    {
                        label: '入学指引',
                        key: 'category:admission',
                    },
                    {
                        label: '毕业指引',
                        key: 'category:graduation',
                    },
                ],
            },
        ],
    },
    {
        label: '新生手册',
        key: 'beginnerMenu',
        icon: <SmileOutlined style={{fontSize: '1.05rem'}} href="./beginner"/>,
        style: itemStyle,
        disabled: true,
    },
    {
        label: (<Tooltip placement="left" title="在转账备注中写上姓名，我们会将您的名字放入感谢列表">支持我们</Tooltip>),
        key: 'support',
        style: itemStyle,
        icon: (<Icon component={HeartSvg} style={{
            color: 'hotpink',
            fontSize: '1.05rem'
        }}/>),
        children: [
            {
                label: '加拿大境内转账：使用emt转账给cssa@uwindsor.ca',
                key: 'support:canada',
            },
            {
                label: '其他支持方式：微信添加 uwcssapr 以了解详情',
                key: 'support:china',
            },
        ],
    },
    {
        label: (
            <a href="https://github.com/VsKendo/uwcssa_ca" target="_blank" rel="noopener noreferrer">
                开源项目
            </a>
        ),
        icon: <GithubOutlined/>,
        key: 'github',
    },
]

const MenuUnderLine = {
    background: 'white',
    borderBottom: '1px solid rgba(5, 5, 5, 0.06)'
}
export default function HeaderElement() {
    return (
        <Header style={{
            padding: 0,
            lineHeight: '55px',
            height: '55px'
        }}>
            <Row>
                <Col span={1} style={MenuUnderLine}/>
                <Col span={11} style={MenuUnderLine}>
                    <Link href="/">
                        <FallbackImage
                            preview={false}
                            style={{
                                width: 35,
                                height: 35
                            }}
                            src="/uwcssa_logo.svg"
                            alt="UWCSSA"
                        />
                        &nbsp;&nbsp;&nbsp;<strong style={{fontSize: 18}}>UWCSSA</strong>
                    </Link>
                </Col>
                <Col span={12}>
                    <Menu mode="horizontal" items={items} style={{height: '100%'}}/>
                </Col>
            </Row>
        </Header>
    )
}
